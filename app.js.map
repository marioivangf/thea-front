{"version":3,"sources":["functions.js"],"names":["each_node_evt","selector","type","cb","nodes","document","querySelectorAll","_","each","node","addEventListener","onetime","callback","e","target","removeEventListener","arguments","callee","event","input","currentTarget","parentNode","getElementsByTagName","classList","toggle","dataset","parentClassToggle","stopPropagation","parent_clist","state_class","contains","remove","add","image","querySelector","files","reader","FileReader","onload","src","result","readAsDataURL","Dropdown","opts_string","sticker","Sticker","JSON","parse","body","Chart","defaults","global","title","display","getElementById","getContext","options","maintainAspectRatio","text","data","labels","datasets","backgroundColor","label"],"mappings":"CAAA,WAgIA,QAAAA,GAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAC,SAAAC,iBAAAL,EACAM,GAAAH,GAAAI,KAAA,SAAAC,GACAA,EAAAC,iBAAAR,EAAAC,KAIA,QAAAQ,GAAAF,EAAAP,EAAAU,GAEAH,EAAAC,iBAAAR,EAAA,SAAAW,GAIA,MAFAA,GAAAC,OAAAC,oBAAAF,EAAAX,KAAAc,UAAAC,QAEAL,EAAAC,KAjFA,GAzDAb,EAAA,yBAAA,YAAA,SAAAkB,GACA,GAAAC,GAAAD,EAAAE,cAAAC,WAAAC,qBAAA,SAAA,EACAH,GAAAjB,KAAA,SAEAF,EAAA,yBAAA,UAAA,SAAAkB,GACA,GAAAC,GAAAD,EAAAE,cAAAC,WAAAC,qBAAA,SAAA,EACAH,GAAAjB,KAAA,aAIAF,EAAA,6BAAA,QAAA,SAAAkB,GACA,GAAAJ,GAAAI,EAAAE,aACAN,GAAAO,WAAAE,UAAAC,OAAAV,EAAAW,QAAAC,qBAIA1B,EAAA,yBAAA,QAAA,SAAAkB,GACAA,EAAAS,iBACA,IAAAC,GAAAV,EAAAE,cAAAC,WAAAE,UACAM,EAAA,kBACAD,GAAAE,SAAAD,GACAD,EAAAG,OAAAF,IAEAD,EAAAI,IAAAH,GACAlB,EAAAN,SAAA,QAAA,WACAuB,EAAAG,OAAAF,QAMA7B,EAAA,wCAAA,SAAA,SAAAkB,GAEA,GAAAC,GAAAD,EAAAE,cACAa,EAAAd,EAAAE,WAAAa,cAAA,MACA,IAAAf,EAAAgB,OAAAhB,EAAAgB,MAAA,GAAA,CACA,GAAAC,GAAA,GAAAC,WACAD,GAAAE,OAAA,SAAAzB,GACAM,EAAAE,WAAAE,UAAAQ,OAAA,SACAE,EAAAM,IAAA1B,EAAAC,OAAA0B,QAEAJ,EAAAK,cAAAtB,EAAAgB,MAAA,OAKA5B,EAAAF,SAAAC,iBAAA,cAAAE,KAAA,SAAAC,GACA,GAAAiC,UAAAjC,KAIAF,EAAAF,SAAAC,iBAAA,mBAAAE,KAAA,SAAAC,GACA,GAAAkC,GAAAlC,EAAAgB,QAAAmB,SAAA,IACA,IAAAC,SAAApC,EAAAqC,KAAAC,MAAAJ,MAIAtC,SAAA2C,KAAAzB,UAAAO,SAAA,SAAA,CAEAmB,MAAAC,SAAAC,OAAAC,MAAAC,SAAA,CAEA,IAAAJ,OAAA5C,SAAAiD,eAAA,aAAAC,WAAA,OACArD,KAAA,WACAsD,SACAC,qBAAA,EACAL,OAAAM,KAAA,4BAEAC,MACAC,QAAA,UAAA,WACAC,WACAC,iBACA,UACA,WASAH,MAAA,IAAA,UAKA,GAAAV,OAAA5C,SAAAiD,eAAA,aAAAC,WAAA,OACArD,KAAA,MACAsD,SACAC,qBAAA,EACAL,OAAAM,KAAA,mCAEAC,MACAC,QAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACAC,WACAE,MAAA,UACAJ,MAAA,GAAA,GAAA,EAAA,GAAA,EAAA,EAAA,GACAG,gBAAA,YAEAC,MAAA,UACAJ,MAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IACAG,gBAAA,eAKA,GAAAb,OAAA5C,SAAAiD,eAAA,kBAAAC,WAAA,OACArD,KAAA,OACAsD,SACAC,qBAAA,EACAL,OACAM,KAAA,4BAGAC,MACAC,QAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KACAC,WACAE,MAAA,cACAJ,MAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,IACAG,gBAAA","file":"app.js","sourcesContent":["(function () {\n\n  // Toggle password in inputs\n  each_node_evt(\"[data-password-toggle]\", \"mousedown\", function (event) {\n    var input = event.currentTarget.parentNode.getElementsByTagName(\"INPUT\")[0];\n    input.type = \"text\";\n  });\n  each_node_evt(\"[data-password-toggle]\", \"mouseup\", function (event) {\n    var input = event.currentTarget.parentNode.getElementsByTagName(\"INPUT\")[0];\n    input.type = \"password\";\n  });\n\n  // Toggle classes in parents\n  each_node_evt(\"[data-parent-class-toggle]\", \"click\", function (event) {\n    var target = event.currentTarget;\n    target.parentNode.classList.toggle(target.dataset.parentClassToggle);\n  });\n\n  // Toggle classes for dropdowns\n  each_node_evt(\"[data-dropdown-toggle]\", \"click\", function (event) {\n    event.stopPropagation();\n    var parent_clist = event.currentTarget.parentNode.classList;\n    var state_class = \"dropdown--opened\";\n    if (parent_clist.contains(state_class))\n      parent_clist.remove(state_class);\n    else {\n      parent_clist.add(state_class);\n      onetime(document, \"click\", function () {\n        parent_clist.remove(state_class);\n      });\n    }\n  });\n\n  // Image inputs with preview\n  each_node_evt(\"[data-image-input] input[type='file']\", \"change\", function (event) {\n\n    var input = event.currentTarget;\n    var image = input.parentNode.querySelector(\"img\");\n    if (input.files && input.files[0]) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        input.parentNode.classList.remove(\"clean\");\n        image.src = e.target.result;\n      }\n      reader.readAsDataURL(input.files[0]);\n    }\n  });\n\n  // Dropdown inititalization\n  _(document.querySelectorAll(\"[data-dd]\")).each(function (node) {\n    new Dropdown(node);\n  })\n\n  // Sticker JS init\n  _(document.querySelectorAll(\"[data-sticker]\")).each(function (node) {\n    var opts_string = node.dataset.sticker || \"{}\";\n    new Sticker(node, JSON.parse(opts_string));\n  });\n\n  // Forms Statistics\n  if (document.body.classList.contains(\"forms\")) {\n\n    Chart.defaults.global.title.display = true;\n\n    var gender_chart = new Chart(document.getElementById(\"pie-chart\").getContext('2d'), {\n      type: 'doughnut',\n      options: {\n        maintainAspectRatio: false,\n        title: { text: \"GÃ©nero de los pacientes\" }\n      },\n      data: {\n        labels: [\"Mujeres\", \"Hombres\"],\n        datasets: [{\n          backgroundColor: [\n            \"#34495e\",\n            \"#3498db\"\n        //         \"#2ecc71\",\n        // \"#3498db\",\n        // \"#95a5a6\",\n        // \"#9b59b6\",\n        // \"#f1c40f\",\n        // \"#e74c3c\",\n        // \"#34495e\"\n          ],\n          data: [522, 323]\n        }]\n      }\n    });\n\n    var age_chart = new Chart(document.getElementById('age-chart').getContext('2d'), {\n      type: 'bar',\n      options: {\n        maintainAspectRatio: false,\n        title: { text: \"Edad promedio de los pacientes\" }\n      },\n      data: {\n        labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],\n        datasets: [{\n          label: 'Mujeres',\n          data: [12, 19, 3, 17, 6, 3, 7],\n          backgroundColor: \"#34495e\"\n        }, {\n          label: 'Hombres',\n          data: [2, 29, 5, 5, 2, 3, 10],\n          backgroundColor: \"#3498db\"\n        }]\n      }\n    });\n\n    var patients_chart = new Chart(document.getElementById('patients-chart').getContext('2d'), {\n      type: 'line',\n      options: {\n        maintainAspectRatio: false,\n        title: {\n          text: \"Promedio de encuestados\"\n        }\n      },\n      data: {\n        labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],\n        datasets: [{\n          label: 'Encuestados',\n          data: [40, 19, 42, 17, 56, 12, 38],\n          backgroundColor: \"#34495e\"\n        }]\n      }\n    });\n  }\n\n  function each_node_evt (selector, type, cb) {\n    var nodes = document.querySelectorAll(selector);\n    _(nodes).each(function (node) {\n      node.addEventListener(type, cb);\n    });\n  }\n\n  function onetime (node, type, callback) {\n    // create event\n    node.addEventListener(type, function (e) {\n      // remove event\n      e.target.removeEventListener(e.type, arguments.callee);\n      // call handler\n      return callback(e);\n    });\n  }\n\n  function nodes_to_arr (nodes) {\n    return Array.prototype.slice.call(nodes);\n  }\n\n})();"]}